<!doctype html>
<html lang="en-us">
  <head>
    <title>Working with the DOM</title>
    <meta charset="utf-8">
    <style>
      #outer_container {
        width: 500px;
        height: 500px;
        border: 1px solid black;
        background-color: #eee;
        float: left;
        margin-right: 20px;
      }

      #inner_container {
        width: 100px;
        height: 100px;
        border: 1px solid black;
        background-color: #ccc;
      }

      img {
        width: 50px;
        height: 50px;
      }

      #instructions {
        float: left;
        width: 500px;
      }

    </style>
  </head>

  <body>
    <h1>JavaScript Event Mechanics</h1>

    <div id="outer_container">
      <div id="inner_container">
        <img src="images/pikachu.png">
      </div>
    </div>

    <div id="instructions">
      <p>By default, when you register a JavaScript event the events are handled through a process called "bubbling" (there is another process called "capturing" which is also available, but it's not the default and will be covered at a later time). The "bubbling" process works as follows:</p>

      <ul>
        <li>The innermost element that receives the event runs its function</li>
        <li>The event then "bubbles" outwards to the parent of the element.  If the parent is also listening for the same event it will run its function</li>
        <li>The process continues until the upper-most parent is reached (the 'html' tag)</li>
      </ul>

      <p>Click on the box to the left to see the order in which these events trigger. We will use this same setup in the next example to discuss some additional concepts related to this process.  The organization of the code is as follows:</p>

      <pre>&lt;div id="outer_container"&gt;
  &lt;div id="inner_container"&gt;
    &lt;img src="images/pikachu.png"&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre>

      <br>

      <button id="clear">Clear results</button>
      <div id="results"></div>
    </div>


    <script>

      // DOM references to all of the elements on the page
      const outer_container = document.querySelector('#outer_container');
      const inner_container = document.querySelector('#inner_container');
      const image = document.querySelector('img');
      const results = document.querySelector('#results');

      // set up each element to listen for clicks (except for results)
      outer_container.onclick = function(event) {
        results.innerHTML += 'Outer container was clicked<br>';
      }

      inner_container.onclick = function(event) {
        results.innerHTML += 'Inner container was clicked<br>';
      }

      image.onclick = function(event) {
        results.innerHTML += 'Image was clicked<br>';
      }


      // clear previous results
      document.querySelector("#clear").onclick = function() {
        results.innerHTML = '';
      }


    </script>
  </body>
</html>
