<!doctype html>
<html lang="en-us">
  <head>
    <title>Betting Game</title>
    <meta charset="utf-8">
  </head>

  <body>
    <h1>Betting Game</h1>
    <div id="bank">
      <span id="caption">Your bank amount:</span>
      <span id="amount"></span>
    </div>
    <div id="controls">
      <button id="heads">Bet on Heads</button>
      <button id="tails">Bet on Tails</button>
    </div>
    <img id="coin" src="images/heads.jpg">

    <script type="text/javascript">


      // design a function to hold all of our application code - we are going to invoke this function immediately and set up a closure
      (function() {

        // define our starting bank amount
        let bankAmount = 20;

        // grab a ref to the amount 'span' tag and update it
        document.getElementById('amount').innerHTML = bankAmount;

        // set up event listeners on the buttons

        // heads
        document.getElementById('heads').addEventListener('click', function(event) {

          // only play if we have at least $10
          if (bankAmount >= 10) {

            let chance = parseInt( Math.random() * 2 );
            if (chance == 0) {
              document.getElementById('coin').src = 'images/heads.jpg';
              document.getElementById('coin').style.border = '5px solid #0f0';
              bankAmount += 10;
            }
            else {
              document.getElementById('coin').src = 'images/tails.jpg';
              document.getElementById('coin').style.border = '5px solid red';
              bankAmount -= 10;
              if (bankAmount <= 0) {
                // hide the buttons and prevent the user from playing again
                document.getElementById("controls").style.display = 'none';
                document.getElementById('coin').style.display = 'none';
              }
            }

            // update the bank display
            document.getElementById('amount').innerHTML = bankAmount;

          }

        });


        // tails
        document.getElementById('tails').addEventListener('click', function(event) {

          // only play if we have at least $10
          if (bankAmount >= 10) {

            let chance = parseInt( Math.random() * 2 );
            if (chance == 0) {
              document.getElementById('coin').src = 'images/tails.jpg';
              document.getElementById('coin').style.border = '5px solid #0f0';
              bankAmount += 10;
            }
            else {
              document.getElementById('coin').src = 'images/heads.jpg';
              document.getElementById('coin').style.border = '5px solid red';
              bankAmount -= 10;
              if (bankAmount <= 0) {
                // hide the buttons and prevent the user from playing again
                document.getElementById("controls").style.display = 'none';
                document.getElementById('coin').style.display = 'none';
              }
            }

            // update the bank display
            document.getElementById('amount').innerHTML = bankAmount;

          }

        });


      })();




    </script>
  </body>
</html>
